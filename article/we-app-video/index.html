<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>小程序视频组件的使用-王翌轩的个人主页</title><meta data-n-head="ssr" data-hid="小程序视频组件的使用-王翌轩的个人主页" name="小程序视频组件的使用-王翌轩的个人主页" content="小程序视频组件的使用-王翌轩的个人主页"><link data-n-head="ssr" rel="icon" href="/images/home.png"><link rel="preload" href="/_nuxt/2b00dcd8bd1813d6689f.js" as="script"><link rel="preload" href="/_nuxt/8be487bfbe156922ccfd.js" as="script"><link rel="preload" href="/_nuxt/90abc38db129dbdeface.js" as="script"><link rel="preload" href="/_nuxt/b76d4b7cea342a87ac1d.js" as="script"><style data-vue-ssr-id="7d029a38:0 3191d5ad:0 932a8f60:0 84b99302:0 33723337:0">body{margin:0;padding:0;height:100%;width:100%}body *{box-sizing:border-box}a{text-decoration:none;color:unset}.light{--background-color:#fafafa;--main-background-color:#fff;--font-color:#424242;--box-shadow-color:#757575;--svg-filter:invert(0%);--highlight-color:#cfd8dc;--active-nav-color:#d6d6d6;--code-hightligh-css:"~/assets/atom-one-light.css"}.dark{--background-color:#263238;--main-background-color:#546e7a;--font-color:#fff;--box-shadow-color:#2b2a2a;--svg-filter:invert(100%);--highlight-color:#42a5f5;--active-nav-color:#6f5b51;--code-hightligh-css:"~/assets/atom-one-dark.css";--second-backgroud-color:#607d8b}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;-webkit-transition:width .1s,opacity .4s;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{-webkit-transition:none;transition:none}.nuxt-progress-failed{background-color:red}.main{background:var(--main-background-color);color:var(--font-color);position:absolute;padding-left:60px;min-height:100%;width:100%}.navbar[data-v-5392efa2]{width:60px;position:fixed;top:0;left:0;bottom:0;height:100%;background:var(--background-color);color:var(--font-color);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 5px var(--box-shadow-color);z-index:1}.navbar-item[data-v-5392efa2]{width:100%;height:60px;margin:0 0 20px;background-size:50% 50%;background-position:50%;background-repeat:no-repeat;-webkit-filter:var(--svg-filter);filter:var(--svg-filter)}.active[data-v-5392efa2]{background:var(--active-nav-color);background-size:50% 50%;background-position:50%;background-repeat:no-repeat}.post{width:80%;margin:4em auto 1em;padding-bottom:2rem}pre{font-family:Courier New,Courier,monospace;font-size:1.1em;padding:1em;line-height:.95em}code,pre{background:var(--background-color);border-radius:2px}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="dark app"><div class="navbar" data-v-5392efa2><div data-v-5392efa2><a href="/" class="nuxt-link-active" data-v-5392efa2><div alt="User" class="navbar-item active" style="background-image:url(/svg/portrait.svg)" data-v-5392efa2></div></a> <a href="/blog" data-v-5392efa2><div id="blog" alt="Blog" class="navbar-item" style="background-image:url(/svg/blog.svg)" data-v-5392efa2></div></a> <a href="/gallery" data-v-5392efa2><div id="Gallery" alt="Gallery" class="navbar-item" style="background-image:url(/svg/image.svg)" data-v-5392efa2></div></a> <a href="/resume" data-v-5392efa2><div id="Resume" alt="Resume" class="navbar-item" style="background-image:url(/svg/file-alt.svg)" data-v-5392efa2></div></a> <a href="/quote" data-v-5392efa2><div id="quote" alt="Quote" class="navbar-item" style="background-image:url(/svg/quote-right.svg)" data-v-5392efa2></div></a></div> <div data-v-5392efa2><div alt="Theme" class="navbar-item" style="backgroundImage:url(/svg/adjust.svg)" data-v-5392efa2></div></div></div> <div class="main"><div class="post"><h1 id="小程序视频组件">小程序视频组件</h1>
<p>使用小程序WXML里自带的<code>&lt;video></code>标签, 指定src即可.
<code>&lt;video src="..." /></code></p>
<h2 id="文件链接">文件链接</h2>
<p>从七牛,腾讯COS等云存储文件的链接可以直接播放,没有障碍. 前提是得有一个云存储.</p>
<h2 id="第三方视频链接">第三方视频链接</h2>
<p>从页面使用正常途径复制到的视频链接都不会是视频文件的真实链接. 内嵌iframe地址中的src虽然能在浏览器中直接打开, 其实也并未获取到源文件地址, 因为打开显示的是第三方的播放器而非浏览器自带的播放器.</p>
<p>所以在这种情况下如果一定要通过链接播放第三方视频只能采取非正常途径. </p>
<p>比如如找到vid后使用后门链接.
像Youtube的后门链接为<a href="http://www.youtube.com/get_video_info?video_id=XXXX">http://www.youtube.com/get_video_info?video_id=XXXX</a>
访问以后会得到一个需要URLDecode解析的get_video_info文件,里面会有视频文件的url,但是直接访问的结果通常都会是403.  </p>
<p>又比如使用网络抓包工具,检查访问视频页面的网络流量,从里边找到视频源地址.</p>
<h2 id="使用腾讯视频官方提供的小程序插件推荐">使用腾讯视频官方提供的小程序插件(推荐)</h2>
<p>小程序使用插件需要现在小程序管理后台中添加插件.</p>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/using.html">小程序插件文档</a></p>
<p><a href="https://github.com/tvfe/txv-miniprogram-plugin">视频插件的Github仓库</a></p>
<h3 id="使用方法">使用方法</h3>
<p>前往: <strong>对应AppID微信公众平台后台-设置-第三方服务</strong> 
在插件管理中搜索并添加腾讯视频(wxa75efa648b60994b)</p>
<p>回到小程序中</p>
<pre><code>// 在wxml上这样插入视频元素
&lt;txv-video vid="e0354z3cqjp" playerid="txv1">&lt;/txv-video></code></pre><pre><code>// 在json里面插入
"usingComponents": {
  "txv-video": "plugin://tencentvideo/video"
}</code></pre><pre><code>// 在app.json里面引入插件，注意插件版本号填最新的版本号
"plugins": {
  "tencentvideo": {
    "version": "1.2.4",
    "provider": "wxa75efa648b60994b"
  }
}</code></pre><h3 id="注意事项">注意事项</h3>
<p>该插件的视频和腾讯视频一样有广告, 有付费去广告的功能</p>
<p>个人开发者没有使用这个插件的权限,提审会被拒绝</p>
<p>使用插件不需要小程序有文娱/视频资质,因为插件本身有这个资质.</p>
<p>禁止盗播腾讯视频版权视频</p>
</div></div></div></div></div><script>window.__NUXT__={layout:"default",data:[{content:'<h1 id="小程序视频组件">小程序视频组件</h1>\n<p>使用小程序WXML里自带的<code>&lt;video&gt;</code>标签, 指定src即可.\n<code>&lt;video src=&quot;...&quot; /&gt;</code></p>\n<h2 id="文件链接">文件链接</h2>\n<p>从七牛,腾讯COS等云存储文件的链接可以直接播放,没有障碍. 前提是得有一个云存储.</p>\n<h2 id="第三方视频链接">第三方视频链接</h2>\n<p>从页面使用正常途径复制到的视频链接都不会是视频文件的真实链接. 内嵌iframe地址中的src虽然能在浏览器中直接打开, 其实也并未获取到源文件地址, 因为打开显示的是第三方的播放器而非浏览器自带的播放器.</p>\n<p>所以在这种情况下如果一定要通过链接播放第三方视频只能采取非正常途径. </p>\n<p>比如如找到vid后使用后门链接.\n像Youtube的后门链接为<a href="http://www.youtube.com/get_video_info?video_id=XXXX">http://www.youtube.com/get_video_info?video_id=XXXX</a>\n访问以后会得到一个需要URLDecode解析的get_video_info文件,里面会有视频文件的url,但是直接访问的结果通常都会是403.  </p>\n<p>又比如使用网络抓包工具,检查访问视频页面的网络流量,从里边找到视频源地址.</p>\n<h2 id="使用腾讯视频官方提供的小程序插件推荐">使用腾讯视频官方提供的小程序插件(推荐)</h2>\n<p>小程序使用插件需要现在小程序管理后台中添加插件.</p>\n<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/using.html">小程序插件文档</a></p>\n<p><a href="https://github.com/tvfe/txv-miniprogram-plugin">视频插件的Github仓库</a></p>\n<h3 id="使用方法">使用方法</h3>\n<p>前往: <strong>对应AppID微信公众平台后台-设置-第三方服务</strong> \n在插件管理中搜索并添加腾讯视频(wxa75efa648b60994b)</p>\n<p>回到小程序中</p>\n<pre><code>// 在wxml上这样插入视频元素\n&lt;txv-video vid=&quot;e0354z3cqjp&quot; playerid=&quot;txv1&quot;&gt;&lt;/txv-video&gt;</code></pre><pre><code>// 在json里面插入\n&quot;usingComponents&quot;: {\n  &quot;txv-video&quot;: &quot;plugin://tencentvideo/video&quot;\n}</code></pre><pre><code>// 在app.json里面引入插件，注意插件版本号填最新的版本号\n&quot;plugins&quot;: {\n  &quot;tencentvideo&quot;: {\n    &quot;version&quot;: &quot;1.2.4&quot;,\n    &quot;provider&quot;: &quot;wxa75efa648b60994b&quot;\n  }\n}</code></pre><h3 id="注意事项">注意事项</h3>\n<p>该插件的视频和腾讯视频一样有广告, 有付费去广告的功能</p>\n<p>个人开发者没有使用这个插件的权限,提审会被拒绝</p>\n<p>使用插件不需要小程序有文娱/视频资质,因为插件本身有这个资质.</p>\n<p>禁止盗播腾讯视频版权视频</p>\n',title:"小程序视频组件的使用"}],error:null,serverRendered:!0}</script><script src="/_nuxt/2b00dcd8bd1813d6689f.js" defer></script><script src="/_nuxt/b76d4b7cea342a87ac1d.js" defer></script><script src="/_nuxt/8be487bfbe156922ccfd.js" defer></script><script src="/_nuxt/90abc38db129dbdeface.js" defer></script>
  </body>
</html>
